(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-196b6102"],{"2f14":function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));t("99af"),t("fb6a");var o=t("d4ec"),a=t("bee2"),r=function(){function e(){Object(o["a"])(this,e)}return Object(a["a"])(e,[{key:"queryString",value:function(e){console.log(e);var n="";for(var t in e)n+="".concat(t,"=").concat(e[t],"&");return n.slice(0,-1)}}]),e}(),s=new r},"99af":function(e,n,t){"use strict";var o=t("23e7"),a=t("d039"),r=t("e8b5"),s=t("861d"),i=t("7b0b"),c=t("50c4"),l=t("8418"),u=t("65f0"),f=t("1dde"),d=t("b622"),p=t("2d00"),g=d("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",b=p>=51||!a((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),m=f("concat"),w=function(e){if(!s(e))return!1;var n=e[g];return void 0!==n?!!n:r(e)},y=!b||!m;o({target:"Array",proto:!0,forced:y},{concat:function(e){var n,t,o,a,r,s=i(this),f=u(s,0),d=0;for(n=-1,o=arguments.length;n<o;n++)if(r=-1===n?s:arguments[n],w(r)){if(a=c(r.length),d+a>v)throw TypeError(h);for(t=0;t<a;t++,d++)t in r&&l(f,d,r[t])}else{if(d>=v)throw TypeError(h);l(f,d++,r)}return f.length=d,f}})},a55b:function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login"},[t("van-nav-bar",{scopedSlots:e._u([{key:"left",fn:function(){return[t("div",{staticClass:"logo"}),t("div",{staticClass:"logo-title"},[e._v("Luckin Coffee")])]},proxy:!0},{key:"right",fn:function(){return[t("div",{on:{click:e.goHome}},[t("van-icon",{staticClass:"right-icon",attrs:{name:"ellipsis"}})],1)]},proxy:!0}])}),e._m(0),t("van-form",{staticClass:"van-form"},[t("van-field",{staticClass:"login-inp",attrs:{name:"用户名",label:"账号",placeholder:"手机号/邮箱"},model:{value:e.userLoginInfo.phone,callback:function(n){e.$set(e.userLoginInfo,"phone",n)},expression:"userLoginInfo.phone"}}),t("van-field",{staticClass:"login-inp",attrs:{type:e.isopen?"password":"text",name:"密码",label:"密码",placeholder:"密码","right-icon":e.isopen?"closed-eye":"eye-o"},on:{"click-right-icon":e.OpenPassword},model:{value:e.userLoginInfo.password,callback:function(n){e.$set(e.userLoginInfo,"password",n)},expression:"userLoginInfo.password"}}),t("div",{staticClass:"clearfix forgetpassword"},[t("span",{staticClass:"fr",on:{click:e.goforget}},[e._v("忘记密码？")])]),t("div",{staticClass:"login-btn"},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:e.login}},[e._v("登录")])],1),t("div",{staticClass:"login-box"},[t("van-cell",{attrs:{title:"注册"},on:{click:function(n){e.show=!0}}}),t("van-action-sheet",{staticClass:"login-show",attrs:{title:"用户注册"},model:{value:e.show,callback:function(n){e.show=n},expression:"show"}},[t("van-field",{attrs:{placeholder:"1-10位昵称"},model:{value:e.userRegisterInfo.nickName,callback:function(n){e.$set(e.userRegisterInfo,"nickName",n)},expression:"userRegisterInfo.nickName"}}),t("van-field",{attrs:{type:"tel",placeholder:"手机号 中国 (+86)"},model:{value:e.userRegisterInfo.phone,callback:function(n){e.$set(e.userRegisterInfo,"phone",n)},expression:"userRegisterInfo.phone"}}),t("van-field",{attrs:{type:"password",placeholder:"密码"},model:{value:e.userRegisterInfo.password,callback:function(n){e.$set(e.userRegisterInfo,"password",n)},expression:"userRegisterInfo.password"}}),t("van-button",{staticClass:"login-show-btn",attrs:{type:"primary",block:""},on:{click:e.register}},[e._v("注册")])],1)],1)],1)],1)},a=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login-form"},[t("div",{staticClass:"login-title"},[e._v("欢迎回来!")]),t("div",{staticClass:"login-text"},[e._v(" Plessw login to your "),t("br"),e._v("accounts ")])])}],r=(t("c25d"),t("e3a8")),s=t("2f14"),i={data:function(){return{userLoginInfo:{phone:"",password:""},userRegisterInfo:{nickName:"",phone:"",password:""},isopen:!0,show:!1}},methods:{goHome:function(){this.$router.push({name:"Home"})},goforget:function(){this.$router.push({name:"Forgot"})},OpenPassword:function(){this.isopen=!this.isopen},showPopup:function(){this.show=!0},register:function(){var e=this,n=this.userRegisterInfo,t={phone:{value:n.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机号格式不正确"},nickName:{value:n.nickName,reg:/^[\w\u4e00-\u9fa5]{1,10}$/,errorMsg:"昵称格式不正确"},password:{value:n.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码格式不正确"}};if(r["a"].valid(t)){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var o=Object.assign({},n);o.appkey=this.appkey;var a=s["a"].queryString(o);this.axios({method:"POST",url:"/register",data:a}).then((function(t){if(e.$toast.clear(),100==t.data.code)for(var o in e.show=!1,n)n[o]="";else e.$notify({type:"warning",message:t.data.msg})})).catch((function(n){e.$toast.clear()}))}},login:function(){var e=this,n=this.userLoginInfo,t={phone:{value:n.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机格式不正确"},password:{value:n.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码格式不正确"}};if(r["a"].valid(t)){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var o=Object.assign({},n);o.appkey=this.appkey;var a=s["a"].queryString(o);this.axios({method:"POST",url:"/login",data:a}).then((function(n){e.$toast.clear(),200==n.data.code?(localStorage.setItem("CSTK",n.data.token),e.$router.push({name:"Home"})):e.$notify({type:"warning",message:n.data.msg})})).catch((function(n){e.$toast.clear()}))}}}},c=i,l=t("2877"),u=Object(l["a"])(c,o,a,!1,null,null,null);n["default"]=u.exports},bee2:function(e,n,t){"use strict";function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}t.d(n,"a",(function(){return a}))},c25d:function(e,n,t){},d4ec:function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,"a",(function(){return o}))},e3a8:function(e,n,t){"use strict";t.d(n,"a",(function(){return x}));var o=t("d4ec"),a=t("bee2"),r=(t("e1d5"),t("fbbd"),t("de0a"),t("1b19"),t("401d"),t("f6f6"),t("d601")),s=t("2b0e"),i=t("23c4"),c=t.n(i),l=t("856f"),u=t("76ae"),f=t("18a1"),d=t("fd40"),p=Object(l["a"])("notify"),g=p[0],v=p[1];function h(e,n,t,o){var a={color:n.color,background:n.background};return e(d["a"],c()([{attrs:{value:n.value,position:"top",overlay:!1,duration:.2,lockScroll:!1},style:a,class:[v([n.type]),n.className]},Object(u["b"])(o,!0)]),[(null==t.default?void 0:t.default())||n.message])}h.props=Object(r["a"])({},f["b"],{color:String,message:[Number,String],duration:[Number,String],className:null,background:String,getContainer:[String,Function],type:{type:String,default:"danger"}});var b,m,w=g(h),y=t("e465");function k(e){return Object(y["e"])(e)?e:{message:e}}function C(e){if(!y["g"])return m||(m=Object(u["c"])(w,{on:{click:function(e){m.onClick&&m.onClick(e)},close:function(){m.onClose&&m.onClose()},opened:function(){m.onOpened&&m.onOpened()}}})),e=Object(r["a"])({},C.currentOptions,k(e)),Object(r["a"])(m,e),clearTimeout(b),e.duration&&e.duration>0&&(b=setTimeout(C.clear,e.duration)),m}function O(){return{type:"danger",value:!0,message:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:null,onClick:null,onOpened:null}}C.clear=function(){m&&(m.value=!1)},C.currentOptions=O(),C.setDefaultOptions=function(e){Object(r["a"])(C.currentOptions,e)},C.resetDefaultOptions=function(){C.currentOptions=O()},C.install=function(){s["a"].use(w)},C.Component=w,s["a"].prototype.$notify=C;var $=C;s["a"].use($);var I=function(){function e(){Object(o["a"])(this,e)}return Object(a["a"])(e,[{key:"valid",value:function(e){for(var n in e)if(!e[n].reg.test(e[n].value))return $({type:"warning",message:e[n].errorMsg}),!1;return!0}}]),e}(),x=new I},f6f6:function(e,n,t){}}]);
//# sourceMappingURL=chunk-196b6102.3a2dcd4f.js.map