{"version":3,"sources":["webpack:///./src/views/mainViews/Menu.vue?48a6","webpack:///src/views/mainViews/Menu.vue","webpack:///./src/views/mainViews/Menu.vue?0106","webpack:///./src/views/mainViews/Menu.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","timeText","userInfo","nickName","on","gologin","attrs","issearchopen","style","height","model","value","callback","$$v","searchopen","expression","getSearch","searchValue","_l","item","index","key","class","$event","viewProductInfo","pid","smallImg","name","enname","inOpenLeft","left","start","move","shopLeft","activeKey","typeDesc","getProductsByType","type","price","staticRenderFns","data","isopenname","startX","moveX","distance","maxLeft","typeData","products","searchData","created","getTypeData","getTime","getuser","methods","$router","push","hours","$toast","loading","message","frobidClick","duration","loadingType","axios","method","url","params","appkey","result","code","forbidClick","JSON","parse","e","targetTouches","pageX","end","isSwiper","tokenString","length","component"],"mappings":"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","file":"js/chunk-28eddd38.967e8ad1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu clearfix\"},[_c('div',{staticClass:\"home_top\"},[_c('div',{staticClass:\"home-top\"},[_c('div',{staticClass:\"home-top-left\"},[_c('div',{staticClass:\"home-title\"},[_vm._v(_vm._s(_vm.timeText)+\",\"),(_vm.isopenname)?_c('span',[_vm._v(_vm._s(_vm.userInfo.nickName))]):_c('span',{on:{\"click\":_vm.gologin}},[_vm._v(\"先登录吧\")])])]),_c('div',{staticClass:\"home-top-right\"},[_c('van-icon',{staticClass:\"home-top-icon\",attrs:{\"size\":\"20px\",\"color\":\"#0C34BA\",\"name\":\"search\"},on:{\"click\":_vm.issearchopen}}),_c('van-popup',{style:({ height: '50%' }),attrs:{\"position\":\"top\",\"closeable\":\"\",\"close-icon-position\":\"top-right\"},model:{value:(_vm.searchopen),callback:function ($$v) {_vm.searchopen=$$v},expression:\"searchopen\"}},[_c('div',{staticClass:\"searc-div\"},[_c('van-search',{staticClass:\"searc\",attrs:{\"placeholder\":\"请输入搜索关键词\"},on:{\"input\":_vm.getSearch},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1),_c('div',{staticClass:\"searc-box\"},_vm._l((_vm.searchData),function(item,index){return _c('div',{key:index,staticClass:\"searc-item \",class:index % 2 == 0 ? 'p-right' : 'p-left',on:{\"click\":function($event){return _vm.viewProductInfo(item.pid)}}},[_c('div',{staticClass:\"searc-img\"},[_c('img',{attrs:{\"src\":item.smallImg}})]),_c('div',{staticClass:\"searc-text\"},[_c('div',{staticClass:\"searc-name\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"searc-enname\"},[_vm._v(_vm._s(item.enname))])])])}),0)]),_c('van-icon',{staticClass:\"home-top-icon\",attrs:{\"color\":\"#0C34BA\",\"size\":\"20px\",\"name\":\"scan\"}}),_c('van-icon',{staticClass:\"home-top-icon\",attrs:{\"color\":\"#0C34BA\",\"size\":\"20px\",\"name\":\"calender-o\"}})],1)])]),_c('div',{staticClass:\"menu-content\",class:_vm.inOpenLeft ? 'menu-content-width-open' : 'menu-content-width-close',style:({left: _vm.left + 'px'}),on:{\"touchstart\":_vm.start,\"touchmove\":_vm.move}},[_c('van-cell',{staticClass:\"menu-left-box\",class:_vm.inOpenLeft ? 'rotateZ180' : 'rotateZ0',attrs:{\"is-link\":\"\"},on:{\"click\":_vm.shopLeft}}),_c('van-popup',{staticClass:\"menu-left-show\",style:({ height: '100%' }),attrs:{\"position\":\"left\",\"overlay\":false},model:{value:(_vm.inOpenLeft),callback:function ($$v) {_vm.inOpenLeft=$$v},expression:\"inOpenLeft\"}},[_c('van-sidebar',{staticClass:\"menu-left-lis\",model:{value:(_vm.activeKey),callback:function ($$v) {_vm.activeKey=$$v},expression:\"activeKey\"}},_vm._l((_vm.typeData),function(item,index){return _c('van-sidebar-item',{key:index,attrs:{\"title\":item.typeDesc},on:{\"click\":function($event){return _vm.getProductsByType(item)}}})}),1)],1),_c('div',{staticClass:\"menu-content-box\"},_vm._l((_vm.products),function(item,index){return _c('div',{key:index,staticClass:\"menu-content-item\",on:{\"click\":function($event){return _vm.viewProductInfo(item.pid)}}},[_c('div',{staticClass:\"menu-content-left\"},[_c('img',{attrs:{\"src\":item.smallImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"menu-content-right\"},[_c('div',{staticClass:\"menu-ct-right-name\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"menu-ct-right-text\"},[_vm._v(_vm._s(item.type))]),_c('div',[_c('div',{staticClass:\"menu-ct-right-prict\"},[_vm._v(\"¥\"+_vm._s(item.price))])])])])}),0)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"menu clearfix\">\r\n    <div class=\"home_top\">\r\n      <div class=\"home-top\">\r\n        <div class=\"home-top-left\">\r\n          <div class=\"home-title\">{{timeText}},<span v-if=\"isopenname\">{{userInfo.nickName}}</span><span v-else @click=\"gologin\">先登录吧</span></div>\r\n        </div>\r\n        <div class=\"home-top-right\">\r\n          <van-icon\r\n            @click=\"issearchopen\"\r\n            size=\"20px\"\r\n            color=\"#0C34BA\"\r\n            class=\"home-top-icon\"\r\n            name=\"search\"\r\n          />\r\n          <van-popup\r\n            v-model=\"searchopen\"\r\n            position=\"top\"\r\n            closeable\r\n            close-icon-position=\"top-right\"\r\n            :style=\"{ height: '50%' }\"\r\n          >\r\n            <div class=\"searc-div\">\r\n              <van-search @input=\"getSearch\"  v-model=\"searchValue\"  placeholder=\"请输入搜索关键词\" class=\"searc\"/>\r\n            </div>\r\n            <div class=\"searc-box\">\r\n              <div class=\"searc-item \" :class=\" index % 2 == 0 ? 'p-right' : 'p-left'\" v-for=\"( item , index ) in searchData\" :key=\"index\" @click=\"viewProductInfo(item.pid)\">\r\n                <div class=\"searc-img\">\r\n                  <img\r\n                    :src=\"item.smallImg\"\r\n                  />\r\n                </div>\r\n                <div class=\"searc-text\">\r\n                  <div class=\"searc-name\">{{item.name}}</div>\r\n                  <div class=\"searc-enname\">{{item.enname}}</div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          </van-popup>\r\n          <van-icon color=\"#0C34BA\" size=\"20px\" class=\"home-top-icon\" name=\"scan\" />\r\n\r\n          <van-icon color=\"#0C34BA\" size=\"20px\" class=\"home-top-icon\" name=\"calender-o\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      class=\"menu-content\"\r\n      :class=\"inOpenLeft ? 'menu-content-width-open' : 'menu-content-width-close'\"\r\n      @touchstart=\"start\"\r\n      @touchmove=\"move\"\r\n      :style=\"{left: left + 'px'}\"\r\n    >\r\n      <van-cell\r\n        class=\"menu-left-box\"\r\n        is-link\r\n        @click=\"shopLeft\"\r\n        :class=\"inOpenLeft ? 'rotateZ180' : 'rotateZ0'\"\r\n      ></van-cell>\r\n\r\n      <van-popup\r\n        v-model=\"inOpenLeft\"\r\n        position=\"left\"\r\n        :style=\"{ height: '100%' }\"\r\n        :overlay=\"false\"\r\n        class=\"menu-left-show\"\r\n      >\r\n        <van-sidebar v-model=\"activeKey\" class=\"menu-left-lis\">\r\n          <van-sidebar-item\r\n            :title=\"item.typeDesc\"\r\n            v-for=\"(item , index ) in typeData\"\r\n            :key=\"index\"\r\n            @click=\"getProductsByType(item)\"\r\n          />\r\n        </van-sidebar>\r\n      </van-popup>\r\n\r\n      <div class=\"menu-content-box\">\r\n        <div class=\"menu-content-item\" v-for=\"( item , index ) in products\" :key=\"index\" @click=\"viewProductInfo(item.pid)\">\r\n          <div class=\"menu-content-left\">\r\n            <img :src=\"item.smallImg\" alt />\r\n          </div>\r\n          <div class=\"menu-content-right\">\r\n            <div class=\"menu-ct-right-name\">{{item.name}}</div>\r\n            <div class=\"menu-ct-right-text\">{{item.type}}</div>\r\n            <div>\r\n              <div class=\"menu-ct-right-prict\">¥{{item.price}}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../../assets/less/menu.less\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      //用户信息\r\n      userInfo:{},\r\n      isopenname:false,\r\n      // top数据\r\n      searchopen: false,\r\n      timeText: \"\",\r\n      searchValue: \"\",\r\n      //  隐藏组件数据\r\n      inOpenLeft: false,\r\n      activeKey: 0,\r\n      // 滑动显示\r\n      //开始触碰的X坐标\r\n      startX: 0,\r\n      left: 0,\r\n      moveX: 0,\r\n      //差值\r\n      distance: 0,\r\n      //单元格移动最大距离\r\n      maxLeft: 80,\r\n      // 类型数组\r\n      typeData: [],\r\n      // 根据类型分类\r\n      products: [],\r\n      // 搜索\r\n      searchData: [],\r\n    };\r\n  },\r\n  created() {\r\n    // 加载商品类型\r\n    this.getTypeData();\r\n    // 获取当前时间段\r\n    this.getTime();\r\n    // 获取商品类型\r\n    this.getTypeData();\r\n    //\r\n    this.getuser()\r\n  },\r\n  methods: {\r\n    // 搜索开关\r\n    issearchopen() {\r\n      this.searchopen = !this.searchopen;\r\n\r\n      // \r\n    },\r\n\r\n    // 登录\r\n    gologin(){\r\n      this.$router.push({name:\"Login\"});\r\n    },\r\n    //获取时间段\r\n    getTime() {\r\n      let hours = new Date().getHours();\r\n      if (hours >= 6 && hours < 12) {\r\n        this.timeText = \"早上好\";\r\n      } else if (hours >= 12 && hours < 18) {\r\n        this.timeText = \"下午好\";\r\n      } else if (hours >= 18 && hours < 24) {\r\n        this.timeText = \"晚上好\";\r\n      } else {\r\n        this.timeText = \"深夜了\";\r\n      }\r\n    },\r\n    // 搜索框\r\n    getSearch() {\r\n      // \r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        frobidClick: true,\r\n        duration: 0,\r\n        loadingType: \"spinner\",\r\n      });\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/search\",\r\n        // 如果get请求,参数需要放在params,如果是post请求参数需要放在data\r\n        params: {\r\n          appkey: this.appkey,\r\n          name: this.searchValue,\r\n        },\r\n      }).then((result) => {\r\n        this.$toast.clear();\r\n        \r\n        if (result.data.code == \"Q001\") {\r\n          this.searchData = result.data.result;\r\n        }\r\n      });\r\n    },\r\n    // 侧边栏开关\r\n    shopLeft() {\r\n      this.inOpenLeft = !this.inOpenLeft;\r\n    },\r\n    //获取商品类型数据\r\n    getTypeData() {\r\n      // \r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n        duration: 0,\r\n        loadingType: \"spinner\",\r\n      });\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/type\",\r\n        //如果get请求，参数需要放在params, 如果是post请求,参数需要放在data\r\n        params: {\r\n          appkey: this.appkey,\r\n        },\r\n      }).then((result) => {\r\n        this.$toast.clear();\r\n        this.typeData = result.data.result;\r\n        // \r\n\r\n      //根据商品类型获取商品数据\r\n      this.getProductsByType(this.typeData[0]);\r\n      });\r\n    },\r\n    // 根据商品类型获取商品数据\r\n    getProductsByType(item) {\r\n      this.products = [];\r\n      // 如果存在缓存数据,则在缓存获取商品数据,不发送请求\r\n      let data = sessionStorage.getItem(item.type);\r\n      if (data) {\r\n        // \r\n        this.products = JSON.parse(data);\r\n        // \r\n        return;\r\n      }\r\n      \r\n      let params = {\r\n        key: \"type\",\r\n        value: item.type,\r\n        appkey: this.appkey,\r\n      };\r\n\r\n      if (item.type == \"isHot\") {\r\n        params.key = \"isHot\";\r\n        params.value = 1;\r\n      }\r\n\r\n      // \r\n\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n        duration: 0,\r\n        loadingType: \"spinner\",\r\n      });\r\n\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/typeProducts\",\r\n        //如果get请求，参数需要放在params, 如果是post请求,参数需要放在data\r\n        params,\r\n      })\r\n        .then((result) => {\r\n          this.$toast.clear();\r\n          // \r\n          if (result.data.code == 500) {\r\n            this.products = result.data.result;\r\n\r\n            // 将商品数据缓存\r\n            sessionStorage.setItem(item.type, JSON.stringify(this.products));\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n          // \r\n        });\r\n    },\r\n    start(e) {\r\n      this.startX = e.targetTouches[0].pageX;\r\n      // \r\n    },\r\n    move(e) {\r\n      this.moveX = e.targetTouches[0].pageX;\r\n      // \r\n      this.distance = this.startX - this.moveX;\r\n      let left = this.left + this.distance;\r\n      left = left >= 0 ? 0 : left <= -this.maxLeft ? -this.maxLeft : left;\r\n      this.left = left;\r\n      // \r\n      this.end();\r\n    },\r\n    end() {\r\n      let isSwiper = Math.abs(this.left) >= this.maxLeft / 2;\r\n      // \r\n      if (isSwiper) {\r\n        this.inOpenLeft = true;\r\n        this.left = this.maxLeft;\r\n      } else {\r\n        this.inOpenLeft = false;\r\n        this.left = 0;\r\n      }\r\n    },\r\n\r\n    //查看商品详情\r\n    viewProductInfo(pid){\r\n      this.$router.push({name : \"Detail\" , query: {pid}});\r\n    } ,\r\n    //获取用户信息\r\n    getuser(){\r\n\r\n      let tokenString = localStorage.getItem('CSTK');\r\n      if( !tokenString ){\r\n        return;\r\n      }\r\n\r\n      this.$toast.loading({\r\n        message:'加载中...',\r\n        forbidClick:true,\r\n        duration:0,\r\n        loadingType:'spinner'\r\n      })\r\n\r\n      this.axios({\r\n        methods:'GET',\r\n        url:'/findMy',\r\n        params:{\r\n          appkey:this.appkey,\r\n          tokenString\r\n        }\r\n      }).then(result => {\r\n        this.$toast.clear();\r\n        if( result.data.code == 'A001'){\r\n          if (result.data.result.length > 0) {\r\n            this.isopenname = true,\r\n            this.userInfo = result.data.result[0];\r\n          }\r\n          }\r\n      }).catch(err => {\r\n        this.$toast.clear();\r\n\r\n      })\r\n\r\n\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=fa63b064&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa63b064\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}