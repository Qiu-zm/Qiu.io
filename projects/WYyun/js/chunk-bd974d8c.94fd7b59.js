(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd974d8c"],{db35:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"allmusic"},[i("van-nav-bar",{attrs:{"left-text":"全部歌曲","left-arrow":""},on:{"click-left":t.goback}}),i("a",{staticClass:"gotop",attrs:{href:"#top"}},[i("van-icon",{attrs:{name:"back-top"}})],1),i("div",{staticClass:"song-list-box"},[i("div",{staticClass:"song-list-top",attrs:{id:"top"}},[i("div",{staticClass:"song-list-left"},[t._m(0),i("div",{staticClass:"song-list-playall"},[t._v(" 播放全部"),i("span",[t._v("(总共"+t._s(t.singerallindex)+"首)")])])])]),i("van-list",{ref:"items",staticClass:"all-music-item",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:""},on:{load:t.getsongerdetail},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.hotsingermusicdata,(function(s,a){return i("van-cell",{key:a,staticClass:"song-list-top",on:{click:function(i){return t.goPlayPage(s)}}},[i("div",{staticClass:"song-list-left"},[i("div",{staticClass:"song-list-img-box"},[t._v(t._s(a+1))]),i("div",{staticClass:"song-list-playall"},[i("div",{staticClass:"song-list-content"},[t._v(t._s(s.name))]),i("div",{staticClass:"song-list-detail"},[t._l(s.ar,(function(s,a){return i("span",{key:a},[t._v(t._s(s.name))])})),t._v(" - "+t._s(s.al.name)+" ")],2)])]),i("div",{staticClass:"playbtn",on:{click:function(i){return i.stopPropagation(),t.playmusic(s)}}},[i("van-icon",{attrs:{name:"play-circle-o"}})],1)])})),1)],1)],1)},n=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"song-list-img-box"},[a("img",{staticClass:"auto-img w30",attrs:{src:i("0801")}})])}],e=(i("99af"),i("d81d"),i("2909")),o=(i("f4e3"),{data:function(){return{hotsingermusicdata:[],singerallindex:0,listindex:0,loading:!1,finished:!1}},computed:{getsonglistid:function(){return this.$route.query.id}},watch:{getsonglistid:function(t){t&&this.getsongerdetail()}},methods:{goback:function(){this.$router.go(-1)},getsongerdetail:function(){var t=this;this.listindex=this.listindex+1;var s=30*(this.listindex-1);this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/artist/songs",params:{id:this.getsonglistid,limit:30,offset:s}}).then((function(s){t.$toast.clear(),200===s.data.code&&(t.singerallindex=s.data.total,1==t.listindex?t.hotsingermusicdata=s.data.songs:t.hotsingermusicdata=[].concat(Object(e["a"])(t.hotsingermusicdata),Object(e["a"])(s.data.songs)),t.loading=!1,t.hotsingermusicdata.length>t.singerallindex&&(t.finished=!0))})).catch((function(s){t.$toast.clear(),console.error(s)}))},goPlayPage:function(t){this.$router.push({path:"musicDetail",query:{id:t.id,type:4,ids:this.getsonglistid}})},playmusic:function(t){var s={id:t.id};this.playmusicids=this.hotsingermusicdata.map((function(t){return t.id})),this.$store.commit("setplaymusicids",this.playmusicids),this.$store.commit("setmusicid",s),this.$store.commit("setMusicIsPlay",!0)}}}),l=o,c=i("2877"),d=Object(c["a"])(l,a,n,!1,null,null,null);s["default"]=d.exports},f4e3:function(t,s,i){}}]);
//# sourceMappingURL=chunk-bd974d8c.94fd7b59.js.map