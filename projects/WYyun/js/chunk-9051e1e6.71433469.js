(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9051e1e6"],{"3d90":function(t,s,i){},ba33:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"songlistetails"},[a("div",[a("van-nav-bar",{attrs:{"left-text":"返回",fixed:"","left-arrow":""},on:{"click-left":t.goback}})],1),a("div",{staticClass:"songlist-top clearfix",style:{"background-image":"url("+t.backgroundUrl+")"}},[a("div",{staticClass:"songlist-img-box fl"},[a("img",{staticClass:"auto-img",attrs:{src:t.coverImgUrl}})]),a("div",{staticClass:"songlist-title-box fl"},[a("div",{staticClass:"songlist-title"},[t._v(" "+t._s(t.songlistname)+" ")]),a("div",{staticClass:"title-img-box"},[a("img",{staticClass:"auto-img titleimg",attrs:{src:t.songlistavatarUrl}}),a("div",{staticClass:"title-img-box-name"},[t._v(t._s(t.songlistnickname))])]),a("div",{staticClass:"title-text"},[t._v(" "+t._s(t.songlistdescription)+" ")])])]),a("div",{staticClass:"song-list-box"},[a("div",{staticClass:"song-list-top"},[a("div",{staticClass:"song-list-left"},[a("div",{staticClass:"song-list-img-box"},[a("img",{staticClass:"auto-img",attrs:{src:i("0801")},on:{click:t.playAllMusic}})]),a("div",{staticClass:"song-list-playall"},[t._v("播放全部"),a("span",[t._v("(共"+t._s(t.songListsData.length)+"首)")])])]),a("div",{staticClass:"song-list-collect"},[t._v("收藏")])]),t._l(t.songListsData,(function(s,i){return a("div",{key:i,staticClass:"song-list-top",on:{click:function(i){return t.goPlayPage(s)}}},[a("div",{staticClass:"song-list-left"},[a("div",{staticClass:"song-list-img-box"},[t._v(t._s(i+1))]),a("div",{staticClass:"song-list-playall"},[a("div",{staticClass:"song-list-content van-ellipsis"},[t._v(t._s(s.name))]),a("div",{staticClass:"song-list-detail van-ellipsis"},[t._v(t._s(s.ar[0].name)+" - "+t._s(s.al.name))])])]),a("div",{staticClass:"playbtn",on:{click:function(i){return i.stopPropagation(),t.playmusic(s)}}},[a("van-icon",{attrs:{name:"play-circle-o"}})],1)])}))],2)])},n=[],l=(i("a4d3"),i("e01a"),i("d81d"),i("b0c0"),i("3d90"),{data:function(){return{songListData:[],songListsData:[],songlistid:0,type:0,backgroundUrl:"",coverImgUrl:"",songlistname:"",songlistavatarUrl:"",songlistnickname:"",songlistdescription:""}},created:function(){this.songlistid=this.$route.query.id,this.getsongListDetailsData(this.songlistid)},beforeRouteEnter:function(t,s,i){t.name!==s.name&&i((function(s){s.songlistid=t.query.id}))},computed:{},watch:{songlistid:function(t,s){t!=s&&(this.songlistid=t,this.getsongListDetailsData(t))}},methods:{goback:function(){this.$router.go(-1)},getsongListDetailsData:function(t){var s=this;this.axios({method:"GET",url:"/playlist/detail",params:{id:t}}).then((function(t){200===t.data.code&&(s.backgroundUrl=t.data.playlist.backgroundCoverUrl,s.coverImgUrl=t.data.playlist.coverImgUrl,s.songlistname=t.data.playlist.name,s.songlistavatarUrl=t.data.playlist.creator.avatarUrl,s.songlistnickname=t.data.playlist.creator.nickname,s.songlistdescription=t.data.playlist.description,s.songListData=t.data.playlist.trackIds.map((function(t){return t.id}))),s.getmusicData()})).catch((function(t){console.error(t)}))},getmusicData:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/song/detail?ids=".concat(this.songListData)}).then((function(s){t.$toast.clear(),200===s.data.code&&(t.songListsData=s.data.songs)})).catch((function(s){t.$toast.clear(),console.error(s)}))},playAllMusic:function(){this.$store.commit("setplaymusicids",this.songListData);var t={id:this.songListData[0]};this.$store.commit("setmusicid",t)},playmusic:function(t){this.playmusicids=this.songListsData.map((function(t){return t.id})),this.$store.commit("setplaymusicids",this.playmusicids),this.$store.commit("setmusicid",t.id)},goPlayPage:function(t){this.playmusicids=this.songListsData.map((function(t){return t.id})),this.$store.commit("setplaymusicids",this.playmusicids),this.$store.commit("setmusicid",t.id)}}}),o=l,c=i("2877"),e=Object(c["a"])(o,a,n,!1,null,null,null);s["default"]=e.exports}}]);
//# sourceMappingURL=chunk-9051e1e6.71433469.js.map