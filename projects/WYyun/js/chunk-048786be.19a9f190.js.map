{"version":3,"sources":["webpack:///./src/views/mainViews/Video.vue?3a12","webpack:///src/views/mainViews/Video.vue","webpack:///./src/views/mainViews/Video.vue?d87e","webpack:///./src/views/mainViews/Video.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","getMvTypeData","model","value","callback","$$v","activeName","expression","_l","item","index","key","title","$event","playmvvideo","directives","name","rawName","mvindex","ref","refInFor","mvurldata","url","stopPropagation","tabplay","_v","_s","_f","playCount","duration","artistName","staticRenderFns","data","mvTypeData","MvData","playmv","mvurl","filters","million","num","Math","floor","timeFormatter","secondTime","minuteTime","parseInt","hourTime","result","computed","recommendType","getmvdata","$refs","mvvideo","watch","created","methods","gettext","id","axios","method","params","message","forbidClick","loadingType","area","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,UAAY,GAAG,qBAAqB,QAAQC,GAAG,CAAC,OAASR,EAAIS,eAAeC,MAAM,CAACC,MAAOX,EAAc,WAAEY,SAAS,SAAUC,GAAMb,EAAIc,WAAWD,GAAKE,WAAW,eAAef,EAAIgB,GAAIhB,EAAc,YAAE,SAASiB,EAAKC,GAAO,OAAOd,EAAG,UAAU,CAACe,IAAID,EAAMX,MAAM,CAAC,KAAOU,EAAKG,MAAM,MAAQH,EAAKG,QAAQ,CAAChB,EAAG,iBAAiBJ,EAAIgB,GAAIhB,EAAU,QAAE,SAASiB,EAAKC,GAAO,OAAOd,EAAG,MAAM,CAACe,IAAID,EAAMZ,YAAY,UAAUC,MAAM,CAAC,GAAK,SAASC,GAAG,CAAC,MAAQ,SAASa,GAAQ,OAAOrB,EAAIsB,YAAYL,EAAMC,MAAU,CAACd,EAAG,QAAQ,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASd,MAAOO,GAASlB,EAAI0B,QAASX,WAAW,qBAAqBY,IAAI,UAAUC,UAAS,EAAKtB,YAAY,mBAAmBC,MAAM,CAAC,SAAW,GAAG,IAAMP,EAAI6B,UAAUC,KAAKtB,GAAG,CAAC,MAAQ,SAASa,GAAiC,OAAzBA,EAAOU,kBAAyB/B,EAAIgC,QAAQd,OAAWd,EAAG,MAAM,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASd,MAAOO,GAASlB,EAAI0B,QAASX,WAAW,qBAAqBT,YAAY,cAAc,CAACF,EAAG,MAAM,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASd,MAAOM,EAAU,MAAEF,WAAW,eAAeT,YAAY,aAAaF,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,aAAaP,EAAIiC,GAAGjC,EAAIkC,GAAGlC,EAAImC,GAAG,UAAPnC,CAAkBiB,EAAKmB,cAAc,GAAGhC,EAAG,MAAM,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAM,EAAQ,WAAsCH,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,gBAAgBP,EAAIiC,GAAGjC,EAAIkC,GAAGlC,EAAImC,GAAG,gBAAPnC,CAAwBiB,EAAKoB,aAAa,KAAKjC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIiC,GAAGjC,EAAIkC,GAAGjB,EAAKO,SAASpB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIiC,GAAGjC,EAAIkC,GAAGjB,EAAKqB,oBAAmB,IAAI,MAAK,IAAI,MAC7uDC,EAAkB,GC4DtB,G,UAAA,CACEC,KADF,WAEI,MAAO,CACL1B,WAAY,KACZ2B,WAAY,CAClB,CACQ,MAAR,MAEA,CACQ,MAAR,MAEA,CACQ,MAAR,MAEA,CACQ,MAAR,MAEA,CACQ,MAAR,MAEA,CACQ,MAAR,OAGMC,OAAQ,GACRb,UAAW,GACXc,QAAQ,EACRC,MAAO,GACPlB,SAAU,IAIdmB,QAAS,CAEPC,QAAS,SAAb,GAEM,IAAN,EAQM,OAPInC,EAAQ,SACVoC,EAAMC,KAAKC,MAAMtC,EAAQ,KAAY,GAAK,IAClD,OACQoC,EAAMC,KAAKC,MAAMtC,EAAQ,KAAQ,GAAK,IAC9C,kBACQoC,EAAMpC,GAEDoC,GAGTG,cAAe,SAAnB,GACM,IAAN,kBACA,IACA,IACUC,EAAa,KAGfC,EAAaC,SAASF,EAAa,IAEnCA,EAAaE,SAASF,EAAa,IAE/BC,EAAa,KAEfE,EAAWD,SAASD,EAAa,IAEjCA,EAAaC,SAASD,EAAa,MAGvC,IAAN,cAYM,OAVEG,EADEH,EAAa,GAEvB,mBAEiB,MAAaG,EAGtBA,EADED,EAAW,GACHA,EAAW,EAAIA,EAAW,IAAMA,GAAY,IAAMC,EAEnD,MAAaA,EAEjBA,IAGXC,SAAU,CACRC,cAAe,WACb,OAAOxD,KAAKa,YAEd4C,UAAW,WACT,OAAOzD,KAAK0D,MAAMC,UAGtBC,MAAO,GAOPC,QA/FF,WAgGI7D,KAAKQ,iBAKPsD,QAAS,CAEP/B,QAFJ,aAcIV,YAdJ,SAcA,KACMrB,KAAKyB,QAAUR,EACfjB,KAAK+D,QAAQ/C,EAAKgD,KAGpBD,QAnBJ,SAmBA,cACM/D,KAAKiE,MAAM,CACTC,OAAQ,MACRrC,IAAK,UACLsC,OAAQ,CACNH,GAAV,KAGA,kBACA,oBACU,EAAV,0BAGA,mBACQ,QAAR,aAIIxD,cArCJ,WAqCA,WACMR,KAAKyB,SAAW,EACtB,qBACQ2C,QAAS,SACTC,aAAa,EACbjC,SAAU,EACVkC,YAAa,YAGftE,KAAKiE,MAAM,CACTC,OAAQ,MACRrC,IAAK,UACLsC,OAAQ,CACNI,KAAMvE,KAAKwD,iBAGrB,kBACQ,EAAR,eACA,oBACU,EAAV,uBAGA,mBACQ,EAAR,eACQ,QAAR,gBC/N8V,I,YCO1VgB,EAAY,eACd,EACA1E,EACAwC,GACA,EACA,KACA,KACA,MAIa,aAAAkC,E","file":"js/chunk-048786be.19a9f190.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Mvideo\"},[_c('div',{staticClass:\"mv-tab\"},[_c('van-tabs',{attrs:{\"swipeable\":\"\",\"title-active-color\":\"#eee\"},on:{\"change\":_vm.getMvTypeData},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.mvTypeData),function(item,index){return _c('van-tab',{key:index,attrs:{\"name\":item.title,\"title\":item.title}},[_c('lazy-component',_vm._l((_vm.MvData),function(item,index){return _c('div',{key:index,staticClass:\"mv-item\",attrs:{\"id\":\"index\"},on:{\"click\":function($event){return _vm.playmvvideo(item, index)}}},[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(index == _vm.mvindex),expression:\"index == mvindex\"}],ref:\"mvvideo\",refInFor:true,staticClass:\"mvvideo auto-img\",attrs:{\"autoplay\":\"\",\"src\":_vm.mvurldata.url},on:{\"click\":function($event){$event.stopPropagation();return _vm.tabplay(index)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index != _vm.mvindex),expression:\"index != mvindex\"}],staticClass:\"mv-img-box\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.cover),expression:\"item.cover\"}],staticClass:\"auto-img\"}),_c('span',{staticClass:\"mv-playcount\"},[_c('van-icon',{attrs:{\"name\":\"music-o\"}}),_vm._v(_vm._s(_vm._f(\"million\")(item.playCount)))],1),_c('img',{staticClass:\"auto-img mv-play\",attrs:{\"src\":require(\"../../assets/images/mv-play.png\")}}),_c('span',{staticClass:\"mv-time\"},[_c('van-icon',{attrs:{\"name\":\"underway-o\"}}),_vm._v(_vm._s(_vm._f(\"timeFormatter\")(item.duration)))],1)]),_c('div',{staticClass:\"mv-contnet\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"mv-foot\"},[_vm._v(_vm._s(item.artistName))])])}),0)],1)}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Mvideo\">\r\n    <div class=\"mv-tab\">\r\n      <van-tabs\r\n        swipeable\r\n        v-model=\"activeName\"\r\n        title-active-color=\"#eee\"\r\n        @change=\"getMvTypeData\"\r\n      >\r\n        <van-tab\r\n          v-for=\"(item, index) in mvTypeData\"\r\n          :name=\"item.title\"\r\n          :title=\"item.title\"\r\n          :key=\"index\"\r\n        >\r\n          <lazy-component>\r\n            <div\r\n              class=\"mv-item\"\r\n              v-for=\"(item, index) in MvData\"\r\n              :key=\"index\"\r\n              id=\"index\"\r\n              @click=\"playmvvideo(item, index)\"\r\n            >\r\n              <video\r\n                \r\n                autoplay\r\n                ref=\"mvvideo\"\r\n                v-show=\"index == mvindex\"\r\n                class=\"mvvideo auto-img\"\r\n                :src=\"mvurldata.url\"\r\n                @click.stop=\"tabplay(index)\"\r\n              ></video>\r\n              <div v-show=\"index != mvindex\" class=\"mv-img-box\">\r\n                <img v-lazy=\"item.cover\" class=\"auto-img\" />\r\n                <span class=\"mv-playcount\"\r\n                  ><van-icon name=\"music-o\" />{{\r\n                    item.playCount | million\r\n                  }}</span\r\n                >\r\n                <img\r\n                  src=\"../../assets/images/mv-play.png\"\r\n                  class=\"auto-img mv-play\"\r\n                />\r\n                <span class=\"mv-time\"\r\n                  ><van-icon name=\"underway-o\" />{{\r\n                    item.duration | timeFormatter\r\n                  }}</span\r\n                >\r\n              </div>\r\n              <div class=\"mv-contnet\">{{ item.name }}</div>\r\n              <div class=\"mv-foot\">{{ item.artistName }}</div>\r\n            </div>\r\n          </lazy-component>\r\n        </van-tab>\r\n      </van-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../../assets/less/video.less\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeName: \"推荐\",\r\n      mvTypeData: [\r\n        {\r\n          title: \"推荐\",\r\n        },\r\n        {\r\n          title: \"内地\",\r\n        },\r\n        {\r\n          title: \"港台\",\r\n        },\r\n        {\r\n          title: \"欧美\",\r\n        },\r\n        {\r\n          title: \"日本\",\r\n        },\r\n        {\r\n          title: \"韩国\",\r\n        },\r\n      ],\r\n      MvData: [],\r\n      mvurldata: [],\r\n      playmv: false,\r\n      mvurl: \"\",\r\n      mvindex: -1,\r\n      // getmvdata:[],\r\n    };\r\n  },\r\n  filters: {\r\n    //  处理播放量\r\n    million: function (value) {\r\n      //播放量数值处理\r\n      let num;\r\n      if (value > 99999999) {\r\n        num = Math.floor(value / 10000000) / 10 + \"亿\";\r\n      } else if (value > 9999) {\r\n        num = Math.floor(value / 1000) / 10 + \"万\";\r\n      } else if (value < 9999 && value > -9999) {\r\n        num = value;\r\n      }\r\n      return num;\r\n    },\r\n    // 处理播放时长\r\n    timeFormatter: function (duration) {\r\n      let secondTime = parseInt(duration) / 1000; // 秒\r\n      let minuteTime = 0; // 分\r\n      let hourTime = 0; // 小时\r\n      if (secondTime > 60) {\r\n        // 如果秒数大于60，将秒数转换成整数\r\n        // 获取分钟，除以60取整数，得到整数分钟\r\n        minuteTime = parseInt(secondTime / 60);\r\n        // 获取秒数，秒数取佘，得到整数秒数\r\n        secondTime = parseInt(secondTime % 60);\r\n        // 如果分钟大于60，将分钟转换成小时\r\n        if (minuteTime > 60) {\r\n          // 获取小时，获取分钟除以60，得到整数小时\r\n          hourTime = parseInt(minuteTime / 60);\r\n          // 获取小时后取佘的分，获取分钟除以60取佘的分\r\n          minuteTime = parseInt(minuteTime % 60);\r\n        }\r\n      }\r\n      let result = secondTime > 9 ? secondTime : \"0\" + secondTime;\r\n      if (minuteTime > 0) {\r\n        result =\r\n          (minuteTime > 9 ? minuteTime : \"0\" + minuteTime) + \":\" + result;\r\n      } else {\r\n        result = \"00\" + \":\" + result;\r\n      }\r\n      if (hourTime > 0) {\r\n        result = (hourTime > 9 ? hourTime : \"0\" + hourTime) + \":\" + result;\r\n      } else {\r\n        result = \"00\" + \":\" + result;\r\n      }\r\n      return result;\r\n    },\r\n  },\r\n  computed: {\r\n    recommendType: function () {\r\n      return this.activeName;\r\n    },\r\n    getmvdata: function(){\r\n      return this.$refs.mvvideo\r\n    }\r\n  },\r\n  watch: {\r\n    // getmvdata(val,newval){\r\n    //   if (val != newval) {\r\n    //     this.getmvdata = val;\r\n    //   }\r\n    // }\r\n  },\r\n  created() {\r\n    this.getMvTypeData();\r\n    // this.gettext();\r\n\r\n  },\r\n\r\n  methods: {\r\n    //暂停/播放\r\n    tabplay(){\r\n      // console.log('index :>> ', index);\r\n\r\n      // if (this.getmvdata[index].paused) {\r\n      //   console.log('播放 :>> ');\r\n      //   this.getmvdata[index].play()\r\n      // }else{\r\n      //   console.log('暂停 :>> ');\r\n      //   this.getmvdata[index].pause()\r\n      // }\r\n    },\r\n    //播放mv\r\n    playmvvideo(item, index) {\r\n      this.mvindex = index;\r\n      this.gettext(item.id);\r\n    },\r\n    //测试端口\r\n    gettext(mid) {\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/mv/url\",\r\n        params: {\r\n          id:mid,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          if (result.data.code === 200) {\r\n            this.mvurldata = result.data.data;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n        });\r\n    },\r\n\r\n    getMvTypeData() {\r\n      this.mvindex = -1,\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n        duration: 0,\r\n        loadingType: \"spinner\",\r\n      });\r\n\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/mv/all\",\r\n        params: {\r\n          area: this.recommendType,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          this.$toast.clear();\r\n          if (result.data.code === 200) { \r\n            this.MvData = result.data.data;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n          console.error(err)\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Video.vue?vue&type=template&id=b43b59c8&\"\nimport script from \"./Video.vue?vue&type=script&lang=js&\"\nexport * from \"./Video.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}