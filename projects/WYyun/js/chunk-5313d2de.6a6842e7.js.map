{"version":3,"sources":["webpack:///./src/views/Forgot.vue?e0a4","webpack:///src/views/Forgot.vue","webpack:///./src/views/Forgot.vue?7872","webpack:///./src/views/Forgot.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","back","_v","model","value","userInfo","callback","$$v","$set","expression","isPassword","viewPassword","scopedSlots","_u","key","fn","isSend","sendValidCode","_s","text","proxy","goLogin","commit","staticRenderFns","data","nickName","phone","password","validCode","methods","$router","go","push","goHome","time","clearInterval","timer","$toast","loading","message","forbidClick","duration","loadingType","axios","method","url","params","test","captcha","nickname","undataPassword","created","component"],"mappings":"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","file":"js/chunk-5313d2de.6a6842e7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"forgot\"},[_c('div',{staticClass:\"nav-bg\"}),_c('van-nav-bar',{attrs:{\"title\":\"找回密码\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.back}}),_c('div',{staticClass:\"login-form\"},[_c('div',{staticClass:\"login-bg\"}),_c('div',{staticClass:\"login-box\"},[_c('div',{staticClass:\"tilte\"},[_vm._v(\"找回密码\")]),_c('div',{staticClass:\"en-title\"},[_vm._v(\"forgot password!\")]),_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"用户昵称\",\"placeholder\":\"1-10位昵称\"},model:{value:(_vm.userInfo.nickName),callback:function ($$v) {_vm.$set(_vm.userInfo, \"nickName\", $$v)},expression:\"userInfo.nickName\"}}),_c('van-field',{attrs:{\"type\":\"tel\",\"label\":\"手机号\",\"placeholder\":\"请输入用户名\"},model:{value:(_vm.userInfo.phone),callback:function ($$v) {_vm.$set(_vm.userInfo, \"phone\", $$v)},expression:\"userInfo.phone\"}}),_c('van-field',{attrs:{\"placeholder\":\"请输入新密码\",\"label\":\"密码\",\"type\":_vm.isPassword ? 'password' : 'text',\"right-icon\":_vm.isPassword ? 'closed-eye' : 'eye-o'},on:{\"click-right-icon\":_vm.viewPassword},model:{value:(_vm.userInfo.password),callback:function ($$v) {_vm.$set(_vm.userInfo, \"password\", $$v)},expression:\"userInfo.password\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"disabled\":_vm.isSend,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.sendValidCode}},[_vm._v(_vm._s(_vm.text))])]},proxy:true}]),model:{value:(_vm.userInfo.validCode),callback:function ($$v) {_vm.$set(_vm.userInfo, \"validCode\", $$v)},expression:\"userInfo.validCode\"}})],1)],1),_c('div',{staticClass:\"buttom-box\"},[_c('div',{staticClass:\"clearfix forgot\"},[_c('span',{staticClass:\"fr\",on:{\"click\":_vm.goLogin}},[_vm._v(\"已有账号，立即登录\")])]),_c('div',{staticClass:\"login-btn\"},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"native-type\":\"submit\",\"color\":\"#0C34BA\"},on:{\"click\":_vm.commit}},[_vm._v(\"提 交\")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"forgot\">\r\n    <div class=\"nav-bg\"></div>\r\n    <van-nav-bar\r\n  title=\"找回密码\"\r\n  left-text=\"返回\"\r\n  left-arrow\r\n  @click-left=\"back\"\r\n/>\r\n    <div class=\"login-form\">\r\n      <div class=\"login-bg\"></div>\r\n      <div class=\"login-box\">\r\n        <div class=\"tilte\">找回密码</div>\r\n        <div class=\"en-title\">forgot password!</div>\r\n\r\n        <van-cell-group>\r\n          <van-field label=\"用户昵称\" placeholder=\"1-10位昵称\" v-model=\"userInfo.nickName\" />\r\n          <van-field v-model=\"userInfo.phone\" type=\"tel\" label=\"手机号\" placeholder=\"请输入用户名\" />\r\n          <van-field\r\n            v-model=\"userInfo.password\"\r\n            placeholder=\"请输入新密码\"\r\n            label=\"密码\"\r\n            :type=\"isPassword ? 'password' : 'text'\"\r\n            :right-icon=\"isPassword ? 'closed-eye' : 'eye-o'\"\r\n            @click-right-icon=\"viewPassword\"\r\n          />\r\n          <van-field\r\n            v-model=\"userInfo.validCode\"\r\n            center\r\n            clearable\r\n            label=\"短信验证码\"\r\n            placeholder=\"请输入短信验证码\"\r\n          >\r\n            <template #button>\r\n              <van-button :disabled=\"isSend\" size=\"small\" type=\"primary\" @click=\"sendValidCode\">{{text}}</van-button>\r\n            </template>\r\n          </van-field>\r\n        </van-cell-group>\r\n      </div>\r\n      <div class=\"buttom-box\">\r\n        <div class=\"clearfix forgot\">\r\n          <span class=\"fr\" @click=\"goLogin\">已有账号，立即登录</span>\r\n        </div>\r\n\r\n        <div class=\"login-btn\">\r\n          <van-button\r\n            round\r\n            block\r\n            native-type=\"submit\"\r\n            color=\"#0C34BA\"\r\n            @click=\"commit\"\r\n          >提&nbsp;&nbsp;交</van-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../assets/less/forgot.less\";\r\n\r\n// import { validForm } from \"../assets/js/validForm\";\r\n\r\n// import { utils } from \"../assets/js/utils\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      isPassword: true,\r\n      userInfo: {\r\n        nickName:\"\",\r\n        phone: \"\",\r\n        password: \"\",\r\n        validCode: \"\",\r\n      },\r\n      text: \"发送验证码\",\r\n      isSend: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 返回上一页\r\n    back() {\r\n      this.$router.go(-1);\r\n    },\r\n    //返回登录界面\r\n    goLogin() {\r\n      this.$router.push({ name: \"Login\" });\r\n    },\r\n    //返回主页\r\n    goHome() {\r\n      this.$router.push({ name: \"Home\" });\r\n    },\r\n    //显示密码\r\n    viewPassword() {\r\n      this.isPassword = !this.isPassword;\r\n    },\r\n    // 发送验证码\r\n    sendValidCode() {\r\n\r\n      let time = 5;\r\n      this.text = time + \"S后重新发送\";\r\n      this.isSend = true;\r\n\r\n      let timer = setInterval(() => {\r\n        if (time == 0) {\r\n          clearInterval(timer);\r\n          this.isSend = false;\r\n          this.text = \"发送验证码\";\r\n        } else {\r\n          time--;\r\n          this.text = time + \"S后重新发送\";\r\n        }\r\n      }, 1000);\r\n\r\n\r\n      //发起获取邮箱验证码请求\r\n      // 验证通过\r\n\r\n      // // 开启加载提示\r\n      // // 自定义加载图标\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        // 防止穿透\r\n        forbidClick: true,\r\n        // 显示时间,如果时间为0,则不会自动关闭\r\n        duration: 0,\r\n\r\n        loadingType: \"spinner\",\r\n      });\r\n\r\n      this.axios({\r\n        method: \"GET\",\r\n        // 请求参数\r\n        url: \"/captcha/sent\",\r\n        params: {\r\n          phone: this.userInfo.phone,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          this.$toast.clear();\r\n          console.log(\"result :>> \", result);\r\n          if (result.data.code === 200) {\r\n            this.$toast.success(\"发送成功\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n          console.error(err)\r\n        });\r\n    },\r\n      //提交数据\r\n    commit() {\r\n       // 获取用户注册信息\r\n      let userInfo = this.userInfo;\r\n\r\n      if (!/^[\\w\\u4e00-\\u9fa5]{1,10}$/.test(userInfo.nickName)) {\r\n        this.$toast(\"昵称格式不正确\");\r\n        return;\r\n      }\r\n\r\n      if (!(/^1[3-9]\\d{9}$/.test(userInfo.phone))) {\r\n        this.$toast(\"手机号格式不正确！\");\r\n        return;\r\n      }\r\n      if (!/^[A-Za-z]\\w{5,15}$/.test(userInfo.password)) {\r\n        this.$toast(\"密码格式不正确\");\r\n        return;\r\n      }\r\n      // 发起请求\r\n      // 开启加载提示\r\n      // 自定义加载图标\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        // 防止穿透\r\n        forbidClick: true,\r\n        // 显示时间,如果时间为0,则不会自动关闭\r\n        duration: 0,\r\n\r\n        loadingType: \"spinner\",\r\n      });\r\n\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/captcha/verify\",\r\n        params: {\r\n          phone: userInfo.phone,\r\n          captcha: userInfo.validCode,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          if (result.data.code == 200) {\r\n          this.axios({\r\n            method: \"GET\",\r\n            // 请求参数\r\n            url: \"/register/cellphone\",\r\n            params: {\r\n              phone: userInfo.phone,\r\n              captcha: userInfo.validCode,\r\n              password: userInfo.password,\r\n              nickname: userInfo.nickName,\r\n            },\r\n          })\r\n            .then((result) => {\r\n              if (result.data.code == 200) {\r\n                \r\n                // 请求成功\r\n              this.$toast.success(\"修改成功！\");\r\n              // 关闭加载提示\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.error(err)\r\n            });\r\n             }\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n          this.$toast('验证码错误！');\r\n          console.error(err)\r\n        });\r\n    },\r\n    //修改密码\r\n    undataPassword() {\r\n    },\r\n  },\r\n  created() {},\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Forgot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Forgot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Forgot.vue?vue&type=template&id=d5f1f96a&\"\nimport script from \"./Forgot.vue?vue&type=script&lang=js&\"\nexport * from \"./Forgot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}