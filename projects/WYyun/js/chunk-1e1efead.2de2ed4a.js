(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e1efead"],{"1e5e":function(t,s,a){},5319:function(t,s,a){"use strict";var e=a("d784"),i=a("825a"),n=a("7b0b"),c=a("50c4"),l=a("a691"),r=a("1d80"),o=a("8aa5"),v=a("14c3"),d=Math.max,u=Math.min,m=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};e("replace",2,(function(t,s,a,e){var f=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=e.REPLACE_KEEPS_$0,y=f?"$":"$0";return[function(a,e){var i=r(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,i,e):s.call(String(i),a,e)},function(t,e){if(!f&&C||"string"===typeof e&&-1===e.indexOf(y)){var n=a(s,t,this,e);if(n.done)return n.value}var r=i(t),m=String(this),g="function"===typeof e;g||(e=String(e));var h=r.global;if(h){var b=r.unicode;r.lastIndex=0}var w=[];while(1){var x=v(r,m);if(null===x)break;if(w.push(x),!h)break;var S=String(x[0]);""===S&&(r.lastIndex=o(m,c(r.lastIndex),b))}for(var k="",$=0,E=0;E<w.length;E++){x=w[E];for(var D=String(x[0]),M=d(u(l(x.index),m.length),0),T=[],A=1;A<x.length;A++)T.push(p(x[A]));var q=x.groups;if(g){var U=[D].concat(T,M,m);void 0!==q&&U.push(q);var R=String(e.apply(void 0,U))}else R=_(D,m,M,T,q,e);M>=$&&(k+=m.slice($,M)+R,$=M+D.length)}return k+m.slice($)}];function _(t,a,e,i,c,l){var r=e+t.length,o=i.length,v=h;return void 0!==c&&(c=n(c),v=g),s.call(l,v,(function(s,n){var l;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,e);case"'":return a.slice(r);case"<":l=c[n.slice(1,-1)];break;default:var v=+n;if(0===v)return s;if(v>o){var d=m(v/10);return 0===d?s:d<=o?void 0===i[d-1]?n.charAt(1):i[d-1]+n.charAt(1):s}l=i[v-1]}return void 0===l?"":l}))}}))},"7f4c":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"searchdetail"},[e("van-tabs",{attrs:{"title-inactive-color":"#ccc","title-active-color":"#ee0a24",swipeable:"",animated:"",sticky:""},on:{change:t.getsearchdata},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},t._l(t.singertype,(function(s,i){return e("van-tab",{key:i,attrs:{title:s.title}},[e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active,expression:"active == 0"}],staticClass:"types"},[e("div",{staticClass:"song-list-box"},[e("div",{staticClass:"song-list-top"},[e("div",{staticClass:"song-list-left"},[e("div",{staticClass:"song-list-img-box"},[e("img",{staticClass:"auto-img",attrs:{src:a("0801")}})]),e("div",{staticClass:"song-list-playall"},[t._v(" 播放全部"),e("span",[t._v("共"+t._s(t.getdatas.length)+" 首")])])]),e("div",{staticClass:"song-list-collect"},[t._v("更多")])]),t._l(t.getdatas,(function(s,a){return e("div",{key:a,staticClass:"song-list-top",on:{click:function(a){return t.setStateCount(s)}}},[e("div",{staticClass:"song-list-left"},[e("div",{staticClass:"song-list-img-box"},[t._v(t._s(a+1))]),e("div",{staticClass:"song-list-playall"},[e("div",{staticClass:"song-list-content van-ellipsis"},[t._v(" "+t._s(s.name)+" ")]),e("div",{staticClass:"song-list-detail dq van-ellipsis"},t._l(s.artists,(function(s,a){return e("div",{key:a,staticClass:"mlr2"},[t._v(" "+t._s(s.name)+" ")])})),0)])]),e("div",{staticClass:"playbtn"},[e("van-icon",{attrs:{name:"play-circle-o"}})],1)])}))],2)]),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.active,expression:"active == 1"}],staticClass:"types"},t._l(t.getdatas,(function(s,a){return e("div",{key:a,staticClass:"recommend-item",on:{click:function(a){return t.goSingerDetail(s)}}},[e("div",{staticClass:"recommend-img-box"},[e("img",{staticClass:"auto-img",attrs:{src:s.img1v1Url}})]),e("div",{staticClass:"recommend-content"},[e("div",{staticClass:"recommend-name van-ellipsis"},[t._v(t._s(s.name))]),e("div",{staticClass:"recommend-text"},[e("div",{staticClass:"album van-ellipsis"},[t._v("专辑 "+t._s(s.albumSize))]),e("div",{staticClass:"single van-ellipsis"},[t._v("MV： "+t._s(s.mvSize))])])])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active == 2"}],staticClass:"types"},[t.isShow?e("div",[e("div",{staticClass:"song-list-box"},t._l(t.getdatas,(function(s,a){return e("div",{key:a,staticClass:"recommend-item",on:{click:function(a){return t.goSongAlbumDetail(s)}}},[e("div",{staticClass:"recommend-img-box"},[e("img",{staticClass:"auto-img",attrs:{src:s.blurPicUrl}})]),e("div",{staticClass:"recommend-content"},[e("div",{staticClass:"recommend-name van-ellipsis"},[t._v(t._s(s.name))]),e("div",{staticClass:"recommend-text van-ellipsis"},[e("div",{staticClass:"album mr van-ellipsis"},[t._v(" "+t._s(t._f("getTemplateTimeByDate")(s.publishTime,"YYYY.MM.dd"))+" ")]),e("div",{staticClass:"album van-ellipsis"},[t._v("歌曲："+t._s(s.size))])])])])})),0)]):e("div",[e("van-empty",{attrs:{description:"暂无数据"}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:3==t.active,expression:"active == 3"}],staticClass:"types"},[t.isShow?e("div",[e("div",{staticClass:"song-list-box"},t._l(t.getdatas,(function(s,a){return e("div",{key:a,staticClass:"recommend-item",on:{click:function(a){return t.goSongListDetail(s)}}},[e("div",{staticClass:"recommend-img-box"},[e("img",{staticClass:"auto-img",attrs:{src:s.coverImgUrl}})]),e("div",{staticClass:"recommend-content"},[e("div",{staticClass:"recommend-name van-ellipsis"},[t._v(t._s(s.name))]),e("div",{staticClass:"recommend-text van-ellipsis"})])])})),0)]):e("div",[e("van-empty",{attrs:{description:"暂无数据"}})],1)])])})),1)],1)},i=[],n=(a("d81d"),a("b0c0"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("1e5e"),{data:function(){return{active:0,searchactive:"",singertype:[{title:"单曲"},{title:"歌手"},{title:"专辑"},{title:"歌单"}],getdatas:[],isShow:!0}},beforeRouteUpdate:function(t,s,a){t.name===s.name&&t.query.wkey!==s.query.wkey&&(this.searchactive=t.query.wkey,this.getsearchdata()),a()},created:function(){this.searchactive=this.$route.query.wkey,this.getsearchdata()},filters:{million:function(t){var s;return t>99999999?s=Math.floor(t/1e7)/10+"亿":t>9999?s=Math.floor(t/1e3)/10+"万":t<9999&&t>-9999&&(s=t),s},getTemplateTimeByDate:function(t,s){t=new Date(t);var a={"Y+":t.getFullYear(),"(M+)":t.getMonth()+1,"(d+)":t.getDate(),"(h+)":t.getHours(),"(m+)":t.getMinutes(),"(s+)":t.getSeconds()};for(var e in a){var i=new RegExp(e);if(i.test(s)){var n=a[e];RegExp.$1.length>1&&(n=n>=10?n:"0"+n),s=s.replace(i,n)}}return s}},watch:{searchactive:function(t,s){t!=s&&this.getsearchdata()}},methods:{getsearchdata:function(){0==this.active?this.getsearchalldata(1):1==this.active?this.getsearchalldata(100):2==this.active?this.getsearchalldata(10):3==this.active&&this.getsearchalldata(1e3)},getsearchalldata:function(t){var s=this;this.axios({method:"GET",url:"/search",params:{keywords:this.searchactive,limit:30,type:t}}).then((function(t){200==t.data.code&&(0==s.active?s.getdatas=t.data.result.songs:1==s.active?s.getdatas=t.data.result.artists:2==s.active?s.getdatas=t.data.result.albums:3==s.active&&(s.getdatas=t.data.result.playlists),s.isShow=s.getdatas.length>0)})).catch((function(t){console.error(t)}))},setStateCount:function(t){this.playmusicids=this.getdatas.map((function(t){return t.id})),this.$store.commit("setplaymusicids",this.playmusicids),this.$store.commit("setmusicid",t.id)},goSingerDetail:function(t){this.$router.push({path:"singerDetail",query:{id:t.id}})},goSongAlbumDetail:function(t){this.$router.push({path:"songAlbumDetails",query:{id:t.id}})},goSongListDetail:function(t){this.$router.push({path:"songListDetails",query:{id:t.id}})}}}),c=n,l=a("2877"),r=Object(l["a"])(c,e,i,!1,null,"73cc8f9e",null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-1e1efead.2de2ed4a.js.map