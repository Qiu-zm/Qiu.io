(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5313d2de"],{"0fdf":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forgot"},[s("div",{staticClass:"nav-bg"}),s("van-nav-bar",{attrs:{title:"找回密码","left-text":"返回","left-arrow":""},on:{"click-left":t.back}}),s("div",{staticClass:"login-form"},[s("div",{staticClass:"login-bg"}),s("div",{staticClass:"login-box"},[s("div",{staticClass:"tilte"},[t._v("找回密码")]),s("div",{staticClass:"en-title"},[t._v("forgot password!")]),s("van-cell-group",[s("van-field",{attrs:{label:"用户昵称",placeholder:"1-10位昵称"},model:{value:t.userInfo.nickName,callback:function(e){t.$set(t.userInfo,"nickName",e)},expression:"userInfo.nickName"}}),s("van-field",{attrs:{type:"tel",label:"手机号",placeholder:"请输入用户名"},model:{value:t.userInfo.phone,callback:function(e){t.$set(t.userInfo,"phone",e)},expression:"userInfo.phone"}}),s("van-field",{attrs:{placeholder:"请输入新密码",label:"密码",type:t.isPassword?"password":"text","right-icon":t.isPassword?"closed-eye":"eye-o"},on:{"click-right-icon":t.viewPassword},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}}),s("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[s("van-button",{attrs:{disabled:t.isSend,size:"small",type:"primary"},on:{click:t.sendValidCode}},[t._v(t._s(t.text))])]},proxy:!0}]),model:{value:t.userInfo.validCode,callback:function(e){t.$set(t.userInfo,"validCode",e)},expression:"userInfo.validCode"}})],1)],1),s("div",{staticClass:"buttom-box"},[s("div",{staticClass:"clearfix forgot"},[s("span",{staticClass:"fr",on:{click:t.goLogin}},[t._v("已有账号，立即登录")])]),s("div",{staticClass:"login-btn"},[s("van-button",{attrs:{round:"",block:"","native-type":"submit",color:"#0C34BA"},on:{click:t.commit}},[t._v("提 交")])],1)])])],1)},a=[],n=(s("8f46"),{data:function(){return{isPassword:!0,userInfo:{nickName:"",phone:"",password:"",validCode:""},text:"发送验证码",isSend:!1}},methods:{back:function(){this.$router.go(-1)},goLogin:function(){this.$router.push({name:"Login"})},goHome:function(){this.$router.push({name:"Home"})},viewPassword:function(){this.isPassword=!this.isPassword},sendValidCode:function(){var t=this,e=5;this.text=e+"S后重新发送",this.isSend=!0;var s=setInterval((function(){0==e?(clearInterval(s),t.isSend=!1,t.text="发送验证码"):(e--,t.text=e+"S后重新发送")}),1e3);this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/captcha/sent",params:{phone:this.userInfo.phone}}).then((function(e){t.$toast.clear(),console.log("result :>> ",e),200===e.data.code&&t.$toast.success("发送成功")})).catch((function(e){t.$toast.clear(),console.error(e)}))},commit:function(){var t=this,e=this.userInfo;/^[\w\u4e00-\u9fa5]{1,10}$/.test(e.nickName)?/^1[3-9]\d{9}$/.test(e.phone)?/^[A-Za-z]\w{5,15}$/.test(e.password)?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/captcha/verify",params:{phone:e.phone,captcha:e.validCode}}).then((function(s){200==s.data.code&&t.axios({method:"GET",url:"/register/cellphone",params:{phone:e.phone,captcha:e.validCode,password:e.password,nickname:e.nickName}}).then((function(e){200==e.data.code&&t.$toast.success("修改成功！")})).catch((function(t){console.error(t)}))})).catch((function(e){t.$toast.clear(),t.$toast("验证码错误！"),console.error(e)}))):this.$toast("密码格式不正确"):this.$toast("手机号格式不正确！"):this.$toast("昵称格式不正确")},undataPassword:function(){}},created:function(){}}),i=n,r=s("2877"),c=Object(r["a"])(i,o,a,!1,null,null,null);e["default"]=c.exports},"8f46":function(t,e,s){}}]);
//# sourceMappingURL=chunk-5313d2de.6a6842e7.js.map