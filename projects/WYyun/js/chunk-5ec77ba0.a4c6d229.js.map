{"version":3,"sources":["webpack:///./src/views/UserLogin.vue?cc11","webpack:///src/views/UserLogin.vue","webpack:///./src/views/UserLogin.vue?3df2","webpack:///./src/views/UserLogin.vue","webpack:///./node_modules/core-js/modules/es.string.replace.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","model","value","userLoginInfo","callback","$$v","$set","expression","isopen","OpenPassword","goforget","_v","login","$event","show","userRegisterInfo","scopedSlots","_u","key","fn","verificationCode","proxy","sms","register","staticRenderFns","data","phone","password","nickName","fromurl","beforeRouteEnter","next","vm","from","name","methods","$router","replace","push","showPopup","test","userInfo","$toast","loading","message","forbidClick","duration","loadingType","axios","method","url","params","captcha","nickname","sendVerificationCode","component","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","undefined","String","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","call","regexp","indexOf","res","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","matchStr","accumulatedResult","nextSourcePosition","i","length","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f"],"mappings":"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","file":"js/chunk-5ec77ba0.a4c6d229.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('van-nav-bar',{attrs:{\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"bg-img\"}),_c('div',{staticClass:\"bg-color\"}),_c('div',{staticClass:\"login-content\"},[_c('van-form',{staticClass:\"van-form\"},[_c('van-field',{staticClass:\"login-inp\",attrs:{\"name\":\"用户名\",\"label\":\"账号\",\"placeholder\":\"手机号/邮箱\"},model:{value:(_vm.userLoginInfo.phone),callback:function ($$v) {_vm.$set(_vm.userLoginInfo, \"phone\", $$v)},expression:\"userLoginInfo.phone\"}}),_c('van-field',{staticClass:\"login-inp\",attrs:{\"type\":_vm.isopen ? 'password' : 'text',\"name\":\"密码\",\"label\":\"密码\",\"placeholder\":\"密码\",\"right-icon\":_vm.isopen ? 'closed-eye' : 'eye-o'},on:{\"click-right-icon\":_vm.OpenPassword},model:{value:(_vm.userLoginInfo.password),callback:function ($$v) {_vm.$set(_vm.userLoginInfo, \"password\", $$v)},expression:\"userLoginInfo.password\"}}),_c('div',{staticClass:\"clearfix forgetpassword\"},[_c('span',{staticClass:\"fr\",on:{\"click\":_vm.goforget}},[_vm._v(\"忘记密码？\")])]),_c('div',{staticClass:\"login-btn\"},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1),_c('div',{staticClass:\"login-box\"},[_c('van-cell',{attrs:{\"title\":\"注册\"},on:{\"click\":function($event){_vm.show = true}}}),_c('van-action-sheet',{staticClass:\"login-show\",attrs:{\"title\":\"用户注册\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-field',{attrs:{\"placeholder\":\"1-10位昵称\"},model:{value:(_vm.userRegisterInfo.nickName),callback:function ($$v) {_vm.$set(_vm.userRegisterInfo, \"nickName\", $$v)},expression:\"userRegisterInfo.nickName\"}}),_c('van-field',{attrs:{\"type\":\"tel\",\"placeholder\":\"手机号 中国 (+86)\"},model:{value:(_vm.userRegisterInfo.phone),callback:function ($$v) {_vm.$set(_vm.userRegisterInfo, \"phone\", $$v)},expression:\"userRegisterInfo.phone\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.userRegisterInfo.password),callback:function ($$v) {_vm.$set(_vm.userRegisterInfo, \"password\", $$v)},expression:\"userRegisterInfo.password\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.verificationCode}},[_vm._v(\"发送验证码\")])]},proxy:true}]),model:{value:(_vm.sms),callback:function ($$v) {_vm.sms=$$v},expression:\"sms\"}}),_c('van-button',{staticClass:\"login-show-btn\",attrs:{\"type\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.register}},[_vm._v(\"注册\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login\">\r\n    <van-nav-bar\r\n  left-text=\"返回\"\r\n  left-arrow\r\n  @click-left=\"onClickLeft\"\r\n/>\r\n    <div class=\"bg-img\"></div>\r\n    <div class=\"bg-color\"></div>\r\n    <div class=\"login-content\">\r\n      <van-form class=\"van-form\">\r\n        <van-field\r\n          class=\"login-inp\"\r\n          name=\"用户名\"\r\n          label=\"账号\"\r\n          placeholder=\"手机号/邮箱\"\r\n          v-model=\"userLoginInfo.phone\"\r\n        />\r\n        <van-field\r\n          class=\"login-inp\"\r\n          :type=\"isopen ? 'password' : 'text'\"\r\n          name=\"密码\"\r\n          label=\"密码\"\r\n          v-model=\"userLoginInfo.password\"\r\n          placeholder=\"密码\"\r\n          :right-icon=\"isopen ? 'closed-eye' : 'eye-o'\"\r\n          @click-right-icon=\"OpenPassword\"\r\n        />\r\n        <div class=\"clearfix forgetpassword\">\r\n          <span class=\"fr\" @click=\"goforget\">忘记密码？</span>\r\n        </div>\r\n        <div class=\"login-btn\">\r\n          <van-button round block type=\"info\" native-type=\"submit\" @click=\"login\">登录</van-button>\r\n        </div>\r\n\r\n        <div class=\"login-box\">\r\n          <van-cell title=\"注册\" @click=\"show = true\" />\r\n\r\n          <van-action-sheet v-model=\"show\" title=\"用户注册\" class=\"login-show\">\r\n            <van-field placeholder=\"1-10位昵称\" v-model=\"userRegisterInfo.nickName\" />\r\n            <van-field v-model=\"userRegisterInfo.phone\" type=\"tel\" placeholder=\"手机号 中国 (+86)\" />\r\n            <van-field v-model=\"userRegisterInfo.password\" type=\"password\" placeholder=\"密码\" />\r\n\r\n            <van-field v-model=\"sms\" center clearable label=\"短信验证码\" placeholder=\"请输入短信验证码\">\r\n              <template #button>\r\n                <van-button @click=\"verificationCode\" size=\"small\" type=\"primary\">发送验证码</van-button>\r\n              </template>\r\n            </van-field>\r\n\r\n            <van-button type=\"primary\" block class=\"login-show-btn\" @click=\"register\">注册</van-button>\r\n          </van-action-sheet>\r\n        </div>\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../assets/less/login.less\";\r\n\r\nimport {setupCookie} from '../assets/js/setupCookie'\r\nexport default {\r\n  data() {\r\n    return {\r\n      sms: \"\",\r\n      // 登录数据\r\n      userLoginInfo: {\r\n        phone: \"\",\r\n        password: \"\",\r\n      },\r\n      // 注册数据\r\n      userRegisterInfo: {\r\n        nickName: \"\",\r\n        phone: \"\",\r\n        password: \"\",\r\n      },\r\n      isopen: true,\r\n      show: false,\r\n      fromurl:'',\r\n    };\r\n  },\r\n  beforeRouteEnter (to, from, next) {\r\n    // ...\r\n    next( vm => {\r\n      vm.fromurl = from.name\r\n    })\r\n  },\r\n  methods: {\r\n    //\r\n    onClickLeft(){\r\n      this.$router.replace({path:this.fromurl})\r\n    },\r\n    // 忘记密码\r\n    goforget() {\r\n      this.$router.push({ name: \"Forgot\" });\r\n    },\r\n    //查看密码\r\n    OpenPassword() {\r\n      this.isopen = !this.isopen;\r\n    },\r\n    // 弹出注册面板\r\n    showPopup() {\r\n      this.show = true;\r\n    },\r\n    // 注册面板处理\r\n    register() {\r\n      // 获取用户注册信息\r\n      let userInfo = this.userRegisterInfo;\r\n\r\n      if (!/^[\\w\\u4e00-\\u9fa5]{1,10}$/.test(userInfo.nickName)) {\r\n        this.$toast(\"昵称格式不正确\");\r\n        return;\r\n      }\r\n      if (!/^[A-Za-z]\\w{5,15}$/.test(userInfo.password)) {\r\n        this.$toast(\"密码格式不正确\");\r\n        return;\r\n      }\r\n      // 发起请求\r\n      // 开启加载提示\r\n      // 自定义加载图标\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        // 防止穿透\r\n        forbidClick: true,\r\n        // 显示时间,如果时间为0,则不会自动关闭\r\n        duration: 0,\r\n\r\n        loadingType: \"spinner\",\r\n      });\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/captcha/verify\",\r\n        params: {\r\n          phone: userInfo.phone,\r\n          captcha: this.sms,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          if (result.data.code == 200) {\r\n            \r\n          \r\n          this.$toast.clear();\r\n          this.axios({\r\n            method: \"GET\",\r\n            // 请求参数\r\n            url: \"/register/cellphone\",\r\n            params: {\r\n              phone: userInfo.phone,\r\n              captcha: this.sms,\r\n              password: userInfo.password,\r\n              nickname: userInfo.nickName,\r\n            },\r\n          })\r\n            .then((result) => {\r\n              if (result.data.code == 200) {\r\n                \r\n                // 请求成功\r\n              this.$toast.success(\"注册成功！\");\r\n              // 关闭加载提示\r\n              this.show = !this.show;\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.error(err)\r\n            });\r\n            }\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n          this.$toast(\"验证码错误！\");\r\n          console.error(err)\r\n        });\r\n    },\r\n    // 验证是否注册\r\n    verificationCode() {\r\n      // 获取用户注册信息\r\n      let userInfo = this.userRegisterInfo;\r\n\r\n      if (!/^1[3-9]\\d{9}$/.test(userInfo.phone)) {\r\n        this.$toast(\"手机号格式不正确！\");\r\n        return;\r\n      }\r\n      this.axios({\r\n        method: \"GET\",\r\n        // 请求参数\r\n        url: \"/cellphone/existence/check\",\r\n        params: {\r\n          phone: userInfo.phone,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          if (result.data.code === 200 && result.data.exist === 1) {\r\n            this.$toast(\"该手机已注册！\");\r\n          }\r\n          if (result.data.code === 200 && result.data.exist === -1) {\r\n            this.sendVerificationCode();\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n        });\r\n    },\r\n    // 发送验证码\r\n    sendVerificationCode() {\r\n      // 获取用户注册信息\r\n\r\n      // // 开启加载提示\r\n      // // 自定义加载图标\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        // 防止穿透\r\n        forbidClick: true,\r\n        // 显示时间,如果时间为0,则不会自动关闭\r\n        duration: 0,\r\n\r\n        loadingType: \"spinner\",\r\n      });\r\n\r\n      this.axios({\r\n        method: \"GET\",\r\n        // 请求参数\r\n        url: \"/captcha/sent\",\r\n        params: {\r\n          phone: this.userRegisterInfo.phone,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          this.$toast.clear();\r\n          if (result.data.code === 200) {\r\n            this.$toast.success(\"发送成功\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n          console.error(err)\r\n        });\r\n    },\r\n    // 3903789170\r\n    // 登录\r\n    login() {\r\n      // 获取用户登录信息\r\n      let userInfo = this.userLoginInfo;\r\n\r\n      if (!/^1[3-9]\\d{9}$/.test(userInfo.phone)) {\r\n        this.$toast(\"手机格式不正确\");\r\n        return;\r\n      }\r\n      if (!/^[A-Za-z]\\w{5,15}$/.test(userInfo.password)) {\r\n        this.$toast(\"密码格式不正确\");\r\n        return;\r\n      }\r\n      // // 验证通过\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n        duration: 0,\r\n        loadingType: \"spinner\",\r\n      });\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/login/cellphone\",\r\n        params: {\r\n          phone: userInfo.phone,\r\n          password: userInfo.password,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          if (result.data.code == 502) {\r\n            this.$toast.clear();\r\n            this.$toast(\"密码错误！\");\r\n          }\r\n          if (result.data.code == 200) {\r\n\r\n            localStorage.setItem(\"CSTK\", result.data.token);\r\n            localStorage.setItem(\"USERID\", result.data.profile.userId);\r\n            setupCookie.setupCookies(result.data.cookie)\r\n            this.$toast.clear();\r\n            this.$toast(\"登录成功！\");\r\n            setTimeout(() => {\r\n              this.$router.replace({path:this.fromurl})\r\n              this.userLoginInfo.phone = ''\r\n              this.userLoginInfo.password = ''\r\n            }, 600);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n          this.$toast.clear();\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLogin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLogin.vue?vue&type=template&id=7b6faeb7&\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n"],"sourceRoot":""}