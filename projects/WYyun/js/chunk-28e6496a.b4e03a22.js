(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28e6496a"],{5319:function(t,i,s){"use strict";var a=s("d784"),e=s("825a"),n=s("7b0b"),l=s("50c4"),r=s("a691"),o=s("1d80"),c=s("8aa5"),d=s("14c3"),v=Math.max,g=Math.min,u=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,i,s,a){var f=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=a.REPLACE_KEEPS_$0,_=f?"$":"$0";return[function(s,a){var e=o(this),n=void 0==s?void 0:s[t];return void 0!==n?n.call(s,e,a):i.call(String(e),s,a)},function(t,a){if(!f&&C||"string"===typeof a&&-1===a.indexOf(_)){var n=s(i,t,this,a);if(n.done)return n.value}var o=e(t),u=String(this),m="function"===typeof a;m||(a=String(a));var h=o.global;if(h){var y=o.unicode;o.lastIndex=0}var x=[];while(1){var w=d(o,u);if(null===w)break;if(x.push(w),!h)break;var $=String(w[0]);""===$&&(o.lastIndex=c(u,l(o.lastIndex),y))}for(var k="",E=0,S=0;S<x.length;S++){w=x[S];for(var T=String(w[0]),P=v(g(r(w.index),u.length),0),D=[],M=1;M<w.length;M++)D.push(p(w[M]));var N=w.groups;if(m){var A=[T].concat(D,P,u);void 0!==N&&A.push(N);var R=String(a.apply(void 0,A))}else R=b(T,u,P,D,N,a);P>=E&&(k+=u.slice(E,P)+R,E=P+T.length)}return k+u.slice(E)}];function b(t,s,a,e,l,r){var o=a+t.length,c=e.length,d=h;return void 0!==l&&(l=n(l),d=m),i.call(r,d,(function(i,n){var r;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return s.slice(0,a);case"'":return s.slice(o);case"<":r=l[n.slice(1,-1)];break;default:var d=+n;if(0===d)return i;if(d>c){var v=u(d/10);return 0===v?i:v<=c?void 0===e[v-1]?n.charAt(1):e[v-1]+n.charAt(1):i}r=e[d-1]}return void 0===r?"":r}))}}))},9780:function(t,i,s){},"9c37":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"singer"},[a("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":""},on:{"click-left":t.goback}}),a("div",{staticClass:"singer-top",style:{"background-image":"url("+t.singerdetaildata.picUrl+")"}},[a("div",{staticClass:"singer-box"},[a("div",{staticClass:"sing-title"},[a("div",{staticClass:"singer-name"},[t._v(t._s(t.singerdetaildata.name))]),a("div",{staticClass:"singerNo"},[t._v("歌曲："+t._s(t.singerdetaildata.musicSize))]),a("div",[t._v("专辑："+t._s(t.singerdetaildata.albumSize))])]),a("div",[t._v("关注")])])]),a("div",{staticClass:"singer-content"},[a("van-tabs",{attrs:{animated:"",scrollspy:"",swipeable:""},on:{change:t.getsongerdatas},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.singertype,(function(i,e){return a("van-tab",{key:e,attrs:{title:i.title}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active,expression:"active == 0"}],staticClass:"types"},[a("div",{staticClass:"type-box"},[a("div",{staticClass:"item-top"},[a("div",[t._v("近期热门")]),a("div",[t._v("更多")])]),a("div",{staticClass:"item-box"},t._l(t.singermusicdata,(function(i,s){return a("div",{key:s,staticClass:"items",on:{click:function(s){return t.goPlayPage(i)}}},[a("div",{staticClass:"items-left"},[a("div",{staticClass:"items-img-box"},[a("img",{staticClass:"auto-img",attrs:{src:i.al.picUrl}})]),a("div",{staticClass:"item-text"},[a("div",{staticClass:"item-music-name van-ellipsis"},[t._v(" "+t._s(i.name)+" ")]),a("div",{staticClass:"item-name van-ellipsis"},[t._l(i.ar,(function(i,s){return a("span",{key:s},[t._v(t._s(i.name))])})),t._v(" - "+t._s(i.al.name)+" ")],2)])]),a("div",{staticClass:"playbtn",on:{click:function(s){return s.stopPropagation(),t.playmusic(i)}}},[a("van-icon",{attrs:{name:"play-circle-o"}})],1)])})),0)]),a("div",{staticClass:"type-box"},[a("div",{staticClass:"item-top"},[a("div",[t._v("歌手简介")]),a("div",[t._v("更多")])]),a("div",{staticClass:"item-box textcolor van-multi-ellipsis--l7"},[t._v(" "+t._s(t.singerdetaildata.briefDesc)+" ")])]),a("div",{staticClass:"type-box"},[a("div",{staticClass:"item-top"},[a("div",[t._v("歌手简介")]),a("div",[t._v("更多")])]),a("div",{staticClass:"item-box textcolor"},[t._v(" "+t._s(t.singerdetaildata.briefDesc)+" ")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.active,expression:"active == 1"}],staticClass:"types"},[a("div",{staticClass:"song-list-box"},[a("div",{staticClass:"song-list-top"},[a("div",{staticClass:"song-list-left"},[a("div",{staticClass:"song-list-img-box"},[a("img",{staticClass:"auto-img",attrs:{src:s("0801")}})]),a("div",{staticClass:"song-list-playall"},[t._v(" 播放全部"),a("span",[t._v("(热门"+t._s(t.hotsingermusicdata.length)+"首)")])])]),a("div",{staticClass:"song-list-collect",on:{click:t.gosingallmusic}},[t._v(" 更多 ")])]),t._l(t.hotsingermusicdata,(function(i,s){return a("div",{key:s,staticClass:"song-list-top",on:{click:function(s){return t.goPlayPage(i)}}},[a("div",{staticClass:"song-list-left"},[a("div",{staticClass:"song-list-img-box"},[t._v(t._s(s+1))]),a("div",{staticClass:"song-list-playall"},[a("div",{staticClass:"song-list-content"},[t._v(t._s(i.name))]),a("div",{staticClass:"song-list-detail"},[t._v(" "+t._s(i.ar[0].name)+" - "+t._s(i.al.name)+" ")])])]),a("div",{staticClass:"playbtn",on:{click:function(s){return s.stopPropagation(),t.playmusic(i)}}},[a("van-icon",{attrs:{name:"play-circle-o"}})],1)])}))],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active == 2"}],staticClass:"types"},[t.singeralbum.length>0?a("div",[a("div",{staticClass:"song-list-box"},t._l(t.singeralbum,(function(i,s){return a("div",{key:s,staticClass:"recommend-item",on:{click:function(s){return t.goSongListDetails(i)}}},[a("div",{staticClass:"recommend-img-box"},[a("img",{staticClass:"auto-img",attrs:{src:i.picUrl}})]),a("div",{staticClass:"recommend-content"},[a("div",{staticClass:"recommend-name"},[t._v(t._s(i.name))]),a("div",{staticClass:"recommend-text clearfix"},[a("div",{staticClass:"album fl"},[t._v(" "+t._s(t._f("getTemplateTimeByDate")(i.publishTime,"YYYY.MM.dd"))+" ")]),a("div",{staticClass:"album fl"},[t._v("歌曲："+t._s(i.size))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:i.artistName,expression:"item.artistName"}],staticClass:"recommend-text"},[a("div",{staticClass:"album"},[t._v(t._s(i.artistName))])])])])})),0)]):a("div",[a("van-empty",{attrs:{description:"暂无数据"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.active,expression:"active == 3"}],staticClass:"types"},[t.singermvdata.length>0?a("div",t._l(t.singermvdata,(function(i,s){return a("div",{key:s,staticClass:"songer-mv-box clearfix"},[a("div",{staticClass:"songer-mv-img fl"},[a("img",{staticClass:"auto-img",attrs:{src:i.imgurl16v9,alt:""}}),a("div",{staticClass:"songer-playcount"},[a("van-icon",{attrs:{name:"play-circle-o"}}),t._v(t._s(t._f("million")(i.playCount))+" ")],1)]),a("div",{staticClass:"fl songer-mv-text"},[a("div",{staticClass:"songer-mv-name"},[t._v(t._s(i.name))]),a("div",{staticClass:"songer-mv-time"},[t._v(t._s(i.publishTime))])])])})),0):a("div",[a("van-empty",{attrs:{description:"暂无数据"}})],1)])])})),1)],1)],1)},e=[],n=(s("d81d"),s("fb6a"),s("b0c0"),s("4d63"),s("ac1f"),s("25f0"),s("5319"),s("9780"),{data:function(){return{singerdetaildata:[],singermusicdata:[],hotsingermusicdata:[],singeralbum:[],singermvdata:[],active:0,getsonglistid:0,singertype:[{title:"主页"},{title:"歌曲"},{title:"专辑"},{title:"视频"}]}},created:function(){this.getsonglistid=this.$route.query.id,this.getsongerdatas()},beforeRouteEnter:function(t,i,s){t.name!==i.name&&s((function(i){i.getsonglistid=t.query.id}))},watch:{getsonglistid:function(t){t&&this.getsongerdatas()}},filters:{million:function(t){var i;return t>99999999?i=Math.floor(t/1e7)/10+"亿":t>9999?i=Math.floor(t/1e3)/10+"万":t<9999&&t>-9999&&(i=t),i},getTemplateTimeByDate:function(t,i){t=new Date(t);var s={"Y+":t.getFullYear(),"(M+)":t.getMonth()+1,"(d+)":t.getDate(),"(h+)":t.getHours(),"(m+)":t.getMinutes(),"(s+)":t.getSeconds()};for(var a in s){var e=new RegExp(a);if(e.test(i)){var n=s[a];RegExp.$1.length>1&&(n=n>=10?n:"0"+n),i=i.replace(e,n)}}return i}},methods:{goback:function(){this.$router.go(-1)},getsongerdatas:function(){0==this.active||1==this.active?this.getsongerdetail():2==this.active?this.getsongeralbum():3==this.active&&this.getsongermv()},getsongerdetail:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/artists",params:{id:this.getsonglistid}}).then((function(i){t.$toast.clear(),200===i.data.code&&(t.singerdetaildata=i.data.artist,t.singermusicdata=i.data.hotSongs.slice(0,8),t.hotsingermusicdata=i.data.hotSongs)})).catch((function(i){t.$toast.clear(),console.error(i)}))},getsongeralbum:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/artist/album",params:{id:this.getsonglistid}}).then((function(i){t.$toast.clear(),200===i.data.code&&(t.singeralbum=i.data.hotAlbums)})).catch((function(i){t.$toast.clear(),console.error(i)}))},getsongermv:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/artist/mv",params:{id:this.getsonglistid}}).then((function(i){t.$toast.clear(),200===i.data.code&&(t.singermvdata=i.data.mvs)})).catch((function(i){t.$toast.clear(),console.error(i)}))},goPlayPage:function(t){this.playmusicids=this.hotsingermusicdata.map((function(t){return t.id})),this.$store.commit("setplaymusicids",this.playmusicids),this.$store.commit("setmusicid",t.id)},gosingallmusic:function(){this.$router.push({path:"SingerAllMusic",query:{id:this.getsonglistid}})},playmusic:function(t){this.playmusicids=this.hotsingermusicdata.map((function(t){return t.id})),this.$store.commit("setplaymusicids",this.playmusicids),this.$store.commit("setmusicid",t.id)},goSongListDetails:function(t){this.$router.push({path:"songAlbumDetails",query:{id:t.id}})}}}),l=n,r=s("2877"),o=Object(r["a"])(l,a,e,!1,null,null,null);i["default"]=o.exports}}]);
//# sourceMappingURL=chunk-28e6496a.b4e03a22.js.map