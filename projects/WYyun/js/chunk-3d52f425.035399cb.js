(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d52f425"],{"404a":function(t,i,a){},cc80:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"recommend"},[a("div",{staticClass:"recommend-hot"},[a("div",[a("van-tabs",{attrs:{"line-height":"0",background:"#272727","title-active-color":"#d4237a",animated:"",swipeable:""},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.recommendTypeData,(function(i,e){return a("van-tab",{key:e,staticClass:"recommend-box",attrs:{title:i.title}},t._l(t.recommendData,(function(i,e){return a("div",{key:e,staticClass:"recommend-item",on:{click:function(a){return t.godetail(i)}}},[a("div",{staticClass:"recommend-img-box"},[a("img",{staticClass:"auto-img",attrs:{src:i.picUrl}})]),a("div",{staticClass:"recommend-content"},[a("div",{staticClass:"recommend-name fontnowrap"},[t._v(t._s(i.name))]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active,expression:"active == 0"}],staticClass:"recommend-text"},[a("div",{staticClass:"album"},[t._v("专辑 "+t._s(i.albumSize))]),a("div",{staticClass:"single"},[t._v("单曲："+t._s(i.musicSize))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active == 2"}],staticClass:"recommend-text clearfix"},[a("div",{staticClass:"album fl fontnowrap"},[t._v(t._s(i.albumSize))]),a("div",{staticClass:"single fr singlecount"},[a("van-icon",{attrs:{name:"music-o"}}),t._v(t._s(t._f("million")(i.musicSize))+" ")],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:i.artistName,expression:"item.artistName"}],staticClass:"recommend-text"},[a("div",{staticClass:"album"},[t._v(t._s(i.artistName))])])])])})),0)})),1)],1)]),a("div",{staticClass:"recommend-hot"},[a("div",{staticClass:"hot-title"},[t._v("新碟推荐")]),a("van-swipe",{attrs:{loop:!1,"show-indicators":!1,width:90}},t._l(t.HotData,(function(i,e){return a("van-swipe-item",{key:e,staticClass:"hotdata-item",on:{click:function(a){return t.goSongListDetails(i)}}},[a("img",{staticClass:"auto-img hotdata-item-img",attrs:{src:i.picUrl,alt:""}}),a("div",{staticClass:"hotdata-item-name"},[t._v(t._s(i.name))])])})),1)],1),a("div",{staticClass:"recommend-comment"},[a("div",{staticClass:"hot-title"},[t._v("云村热评")]),a("van-swipe",{staticStyle:{height:"120px"},attrs:{autoplay:5e3,duration:"1500","show-indicators":!1,vertical:""}},t._l(t.HotComment,(function(i,e){return a("van-swipe-item",{key:e,staticClass:"comment-item clearfix"},[a("div",{staticClass:"fl comment-item-left"},[a("img",{staticClass:"auto-img comment-item-songimg",attrs:{src:i.simpleResourceInfo.songCoverUrl}}),a("div",{staticClass:"comment-item-songname"},[t._v(" "+t._s(i.simpleResourceInfo.name)+" ")])]),a("div",{staticClass:"fl comment-item-right"},[a("div",{staticClass:"comment-item-right-t"},[a("div",{staticClass:"comment-item-userimg"},[a("img",{staticClass:"auto-img",attrs:{src:i.simpleUserInfo.avatar,alt:""}})]),a("div",{staticClass:"comment-item-nickname"},[t._v(" "+t._s(i.simpleUserInfo.nickname)+" ")])]),a("div",{staticClass:"comment-item-content"},[t._v(t._s(i.content))])])])})),1)],1),a("div",{staticClass:"recommend-list"},[a("div",{staticClass:"hot-title"},[t._v("热门榜单")]),a("div",{staticClass:"list-box"},[a("van-grid",{attrs:{square:"",border:!1,"column-num":4}},t._l(t.TopList,(function(t,i){return a("van-grid-item",{key:i},[a("img",{staticClass:"auto-img",attrs:{src:t.coverImgUrl,alt:t.name}})])})),1)],1)])])},s=[],o=(a("d81d"),a("fb6a"),a("b0c0"),a("404a"),a("7c91")),n={data:function(){return{active:"",recommendData:[],HotData:[],HotComment:[],TopList:[],recommendTypeData:[{title:"热门歌手"},{title:"热门歌曲"},{title:"热门专辑"},{title:"热门MV"}]}},filters:{million:function(t){var i;return t>99999999?i=Math.floor(t/1e7)/10+"亿":t>9999?i=Math.floor(t/1e3)/10+"万":t<9999&&t>-9999&&(i=t),i}},created:function(){this.getTopList(),this.getNewAlbum(),this.getHotComment()},watch:{active:function(t){0==t?this.getHotData("/top/artists",{limit:9}):1==t?this.getHotData("/recommend/songs",{cookie:o["a"].getCookies()}):2==t?this.getHotData("/personalized",{limit:9}):this.getHotData("/mv/first",{limit:9})}},methods:{getHotData:function(t,i){var a=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:t,params:i}).then((function(t){a.$toast.clear(),200===t.data.code&&(0==a.active?a.recommendData=t.data.artists.slice(0,8).map((function(t){return{id:t.id,picUrl:t.img1v1Url,name:t.name,musicSize:t.musicSize,albumSize:t.albumSize}})):1==a.active?a.recommendData=t.data.data.dailySongs.slice(0,8).map((function(t){return{id:t.id,picUrl:t.al.picUrl,name:t.al.name}})):2==a.active?a.recommendData=t.data.result.slice(0,8).map((function(t){return{id:t.id,picUrl:t.picUrl,name:t.name,musicSize:t.playCount,albumSize:t.copywriter}})):a.recommendData=t.data.data.slice(0,8).map((function(t){return{picUrl:t.cover,name:t.name,artistName:t.artistName}})))})).catch((function(t){a.$toast.clear(),console.error(t)}))},getNewAlbum:function(){var t=this;this.axios({method:"GET",url:"/album/new",params:{limit:9}}).then((function(i){200===i.data.code&&(t.HotData=i.data.albums)})).catch((function(t){console.error(t)}))},getHotComment:function(){var t=this;this.axios({method:"GET",url:"/comment/hotwall/list"}).then((function(i){200===i.data.code&&(t.HotComment=i.data.data)})).catch((function(t){console.error(t)}))},getTopList:function(){var t=this;this.axios({method:"GET",url:"/toplist"}).then((function(i){200===i.data.code&&(t.TopList=i.data.list.slice(0,8))})).catch((function(t){console.error(t)}))},godetail:function(t){0==this.active?this.$router.push({path:"singerDetail",query:{id:t.id}}):1==this.active?(this.playmusicids=this.recommendData.map((function(t){return t.id})),this.$store.commit("setplaymusicids",this.playmusicids),this.$store.commit("setmusicid",t.id)):2==this.active&&this.$router.push({path:"songListDetails",query:{id:t.id}})},goSongListDetails:function(t){this.$router.push({path:"songAlbumDetails",query:{id:t.id}})}}},c=n,m=a("2877"),r=Object(m["a"])(c,e,s,!1,null,null,null);i["default"]=r.exports}}]);
//# sourceMappingURL=chunk-3d52f425.035399cb.js.map